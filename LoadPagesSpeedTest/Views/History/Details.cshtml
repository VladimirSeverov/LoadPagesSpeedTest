@model LoadPagesSpeedTest.Models.TestViewModel
@{
    ViewBag.Title = "TestDetails";
}

<h2>@("Test for: «" + Model.Test.MainUrl+ "» at " + Model.Test.TestDate.ToShortDateString()+" "+Model.Test.TestDate.ToShortTimeString())</h2>

<div class="div_bordered">
    <div>
        <canvas id="chartContainer" style="width: 100%; height: 600px;"></canvas>
    </div>
</div>

<input type="hidden" id="lables" value="@ViewBag.Labels" />
<input type="hidden" id="datapoints" value="@ViewBag.DataPoints" />
<div class="div_bordered">
    <table class="table table-striped data_table">
        <thead>
            <tr>
                <th>
                    Url
                </th>
                <th>
                    ResponseMinTime, ms
                </th>
                <th>
                    ResponseMaxTime, ms
                </th>
            </tr>
        </thead>
        <tbody>
            @foreach (var item in Model.TestDetails)
            {
                <tr>
                    <td>
                        @Html.DisplayFor(modelItem => item.Url)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.ResponseMinTime)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.ResponseMaxTime)
                    </td>
                </tr>
            }
        </tbody>
    </table>
</div>
<br />
@Html.ActionLink("Back To List", "Index")

@section scripts{
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="~/Scripts/chartHelper.js"></script>
}